# Milestone API - Environment Configuration
# Copy this file to .env and update values

# ============================================
# APPLICATION
# ============================================
DEBUG=false
PORT=8000

# ============================================
# DATABASE (PostgreSQL)
# ============================================
# Option 1: Individual settings
DB_HOST=localhost
DB_PORT=5432
DB_NAME=milestone_dev
DB_USER=milestone_dev_user
DB_PASSWORD=your_password_here
DB_SSL=false

# Option 2: Connection URL (overrides individual settings)
# DATABASE_URL=postgresql://user:password@host:port/database

# Connection pool
DB_POOL_SIZE=20
DB_POOL_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30

# ============================================
# SESSION & SECURITY
# ============================================
# MUST match Node.js backend for hybrid operation / shared sessions
SESSION_SECRET=rd-planning-secret-key-change-in-production
SESSION_COOKIE_NAME=connect.sid
SESSION_MAX_AGE=86400

# ============================================
# MULTI-TENANT MODE
# ============================================
MULTI_TENANT=false
DEFAULT_TENANT=

# Master database (for multi-tenant mode - stores tenant configs)
MASTER_DB_HOST=localhost
MASTER_DB_PORT=5432
MASTER_DB_NAME=milestone_master
MASTER_DB_USER=milestone_master_user
MASTER_DB_PASSWORD=your_master_password

# PostgreSQL admin credentials (for provisioning tenant databases)
# Needs CREATE DATABASE and CREATE USER privileges
# PG_ADMIN_USER=postgres
# PG_ADMIN_PASSWORD=your_admin_password

# Tenant credential encryption key (32 bytes, hex encoded)
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
# If not set, derives from SESSION_SECRET (less secure)
# TENANT_ENCRYPTION_KEY=

# ============================================
# MICROSOFT ENTRA SSO (Optional)
# ============================================
# SSO_ENABLED=false
# SSO_CLIENT_ID=your-azure-app-client-id
# SSO_CLIENT_SECRET=your-azure-app-client-secret
# SSO_TENANT_ID=your-azure-tenant-id
# SSO_REDIRECT_URI=http://localhost:8484/api/auth/callback

# ============================================
# EXTERNAL APIs
# ============================================
NAGER_API_URL=https://date.nager.at/api/v3
