# Milestone API - Unraid Environment Configuration
# For Python/FastAPI backend on port 8485

# ============================================
# APPLICATION
# ============================================
DEBUG=false
PORT=8485

# ============================================
# DATABASE (PostgreSQL)
# Connect to your existing PostgreSQL container
# ============================================
DB_HOST=postgresql
DB_PORT=5432
DB_NAME=milestone_dev
DB_USER=milestone_dev_user
DB_PASSWORD=CHANGE_ME

# Connection pool
DB_POOL_SIZE=20
DB_POOL_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30

# ============================================
# SESSION & SECURITY
# IMPORTANT: Must match Node.js SESSION_SECRET for shared sessions!
# ============================================
SESSION_SECRET=MUST_MATCH_NODEJS_SECRET
SESSION_COOKIE_NAME=connect.sid
SESSION_MAX_AGE=86400

# ============================================
# MULTI-TENANT MODE
# ============================================
MULTI_TENANT=true
DEFAULT_TENANT=

# Master database (stores tenant configurations)
MASTER_DB_HOST=postgresql
MASTER_DB_PORT=5432
MASTER_DB_NAME=milestone_admin
MASTER_DB_USER=postgres
MASTER_DB_PASSWORD=CHANGE_ME

# PostgreSQL admin credentials (for provisioning tenant databases)
# Needs CREATEROLE and CREATEDB privileges
PG_ADMIN_USER=postgres
PG_ADMIN_PASSWORD=CHANGE_ME

# ============================================
# EXTERNAL APIs
# ============================================
NAGER_API_URL=https://date.nager.at/api/v3
